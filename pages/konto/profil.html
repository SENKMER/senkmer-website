<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Min Profil - Senkmer</title>
    <link rel="stylesheet" href="/css/theme.css">
    <link rel="stylesheet" href="/css/pages.css">
</head>
<body class="profil-page">
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <a href="/pages/hovedside/hjem.html" class="logo">
                    <img src="/assets/logo.svg" alt="Senkmer Logo" width="40" height="40">
                    <span>Senkmer</span>
                </a>
                <nav class="main-nav">
                    <a href="/pages/hovedside/hjem.html">Hjem</a>
                    <a href="/pages/informasjon/om-oss.html">Om Oss</a>
                    <a href="/pages/informasjon/tjenester.html">Tjenester</a>
                    <a href="/pages/priser/priser.html">Priser</a>
                    <a href="/pages/kundeservice/kontakt.html">Kontakt</a>
                    <a href="/pages/kundeservice/chatbot.html">Chatbot</a>
                    <a href="/pages/spill/minispill.html">Spill</a>
                    <a href="/pages/faq/faq.html">FAQ</a>
                    <a href="/pages/konto/profil.html" class="active">Profil</a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero-section" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
            <div class="container">
                <div class="hero-content">
                    <h1>üë§ Min Profil</h1>
                    <p class="hero-subtitle">Administrer kontoen din, innstillinger og abonnementer</p>
                </div>
            </div>
        </section>

        <!-- Profile Dashboard -->
        <section class="profile-dashboard">
            <div class="container">
                <div class="dashboard-layout">
                    <!-- Sidebar -->
                    <aside class="dashboard-sidebar">
                        <div class="profile-card">
                            <div class="profile-avatar">
                                <img src="/assets/default-avatar.svg" alt="Profilbilde" id="avatarImg">
                                <button class="avatar-edit-btn" onclick="openAvatarUpload()">üì∑</button>
                            </div>
                            <h3 id="profileName">Ola Nordmann</h3>
                            <p class="profile-email" id="profileEmail">ola@example.com</p>
                            <span class="profile-badge">Gratis Plan</span>
                        </div>

                        <nav class="dashboard-nav">
                            <button class="nav-item active" onclick="showTab('overview')">
                                <span class="nav-icon">üìä</span>
                                <span>Oversikt</span>
                            </button>
                            <button class="nav-item" onclick="showTab('personal')">
                                <span class="nav-icon">üë§</span>
                                <span>Personlig Info</span>
                            </button>
                            <button class="nav-item" onclick="showTab('security')">
                                <span class="nav-icon">üîí</span>
                                <span>Sikkerhet</span>
                            </button>
                            <button class="nav-item" onclick="showTab('subscription')">
                                <span class="nav-icon">üí≥</span>
                                <span>Abonnement</span>
                            </button>
                            <button class="nav-item" onclick="showTab('notifications')">
                                <span class="nav-icon">üîî</span>
                                <span>Varsler</span>
                            </button>
                            <button class="nav-item" onclick="showTab('privacy')">
                                <span class="nav-icon">üõ°Ô∏è</span>
                                <span>Personvern</span>
                            </button>
                        </nav>

                        <button class="logout-btn" onclick="logout()">
                            <span>üö™</span>
                            <span>Logg Ut</span>
                        </button>
                    </aside>

                    <!-- Main Content -->
                    <div class="dashboard-content">
                        <!-- Overview Tab -->
                        <div class="tab-content active" id="overview">
                            <h2>Oversikt</h2>
                            <p class="tab-intro">Velkommen tilbake! Her er en rask oversikt over kontoen din.</p>

                            <div class="stats-grid">
                                <div class="stat-box">
                                    <div class="stat-icon">üìÅ</div>
                                    <div class="stat-info">
                                        <div class="stat-value">3</div>
                                        <div class="stat-label">Aktive Prosjekter</div>
                                    </div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-icon">üí¨</div>
                                    <div class="stat-info">
                                        <div class="stat-value">127</div>
                                        <div class="stat-label">Chatbot Samtaler</div>
                                    </div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-icon">üéÆ</div>
                                    <div class="stat-info">
                                        <div class="stat-value">2,450</div>
                                        <div class="stat-label">Spillpoeng</div>
                                    </div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-icon">üìÖ</div>
                                    <div class="stat-info">
                                        <div class="stat-value">45</div>
                                        <div class="stat-label">Dager Aktiv</div>
                                    </div>
                                </div>
                            </div>

                            <div class="recent-activity">
                                <h3>Nylig Aktivitet</h3>
                                <div class="activity-list">
                                    <div class="activity-item">
                                        <span class="activity-icon">‚úÖ</span>
                                        <div class="activity-info">
                                            <p class="activity-text">Fullf√∏rt Minnespill med 2,450 poeng</p>
                                            <span class="activity-time">2 timer siden</span>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <span class="activity-icon">üí¨</span>
                                        <div class="activity-info">
                                            <p class="activity-text">Chattet med AI-assistent om priser</p>
                                            <span class="activity-time">5 timer siden</span>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <span class="activity-icon">üìß</span>
                                        <div class="activity-info">
                                            <p class="activity-text">Sendt melding via kontaktskjema</p>
                                            <span class="activity-time">1 dag siden</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- TODO: Hent ekte aktivitetsdata fra backend -->
                        </div>

                        <!-- Personal Info Tab -->
                        <div class="tab-content" id="personal">
                            <h2>Personlig Informasjon</h2>
                            <p class="tab-intro">Oppdater din personlige informasjon og kontaktdetaljer.</p>

                            <form class="profile-form" onsubmit="savePersonalInfo(event)">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="firstName">Fornavn</label>
                                        <input type="text" id="firstName" value="Ola" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="lastName">Etternavn</label>
                                        <input type="text" id="lastName" value="Nordmann" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="email">E-postadresse</label>
                                    <input type="email" id="email" value="ola@example.com" required>
                                    <small>E-post brukes til innlogging og varsler</small>
                                </div>

                                <div class="form-group">
                                    <label for="phone">Telefonnummer (valgfritt)</label>
                                    <input type="tel" id="phone" placeholder="+47 123 45 678">
                                </div>

                                <div class="form-group">
                                    <label for="company">Bedrift (valgfritt)</label>
                                    <input type="text" id="company" placeholder="Bedriftsnavn">
                                </div>

                                <div class="form-group">
                                    <label for="bio">Om Meg</label>
                                    <textarea id="bio" rows="4" placeholder="Fortell litt om deg selv..."></textarea>
                                </div>

                                <button type="submit" class="save-btn">Lagre Endringer</button>
                            </form>

                            <!-- TODO: Integrer med backend API for √• lagre data -->
                        </div>

                        <!-- Security Tab -->
                        <div class="tab-content" id="security">
                            <h2>Sikkerhet</h2>
                            <p class="tab-intro">Hold kontoen din sikker med sterke passord og tofaktorautentisering.</p>

                            <div class="security-section">
                                <h3>Endre Passord</h3>
                                <form class="security-form" onsubmit="changePassword(event)">
                                    <div class="form-group">
                                        <label for="currentPassword">N√•v√¶rende Passord</label>
                                        <input type="password" id="currentPassword" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="newPassword">Nytt Passord</label>
                                        <input type="password" id="newPassword" required minlength="8">
                                        <small>Minimum 8 tegn, inkluder stor bokstav og tall</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="confirmPassword">Bekreft Nytt Passord</label>
                                        <input type="password" id="confirmPassword" required>
                                    </div>
                                    <button type="submit" class="save-btn">Oppdater Passord</button>
                                </form>
                            </div>

                            <div class="security-section">
                                <h3>Tofaktorautentisering (2FA)</h3>
                                <div class="feature-box">
                                    <p>Legg til et ekstra lag med sikkerhet ved √• aktivere 2FA. Du vil trenge en kode fra telefonen din for √• logge inn.</p>
                                    <button class="secondary-btn" disabled>Kommer Snart</button>
                                </div>
                            </div>

                            <div class="security-section">
                                <h3>Aktive √òkter</h3>
                                <div class="sessions-list">
                                    <div class="session-item">
                                        <div class="session-info">
                                            <strong>üíª Windows PC - Chrome</strong>
                                            <p>Oslo, Norge ‚Ä¢ Aktiv n√•</p>
                                        </div>
                                        <span class="session-current">Denne Enheten</span>
                                    </div>
                                    <div class="session-item">
                                        <div class="session-info">
                                            <strong>üì± iPhone - Safari</strong>
                                            <p>Oslo, Norge ‚Ä¢ Sist aktiv 2 timer siden</p>
                                        </div>
                                        <button class="logout-session-btn">Logg Ut</button>
                                    </div>
                                </div>
                            </div>

                            <!-- TODO: Implementer ekte sesjonstyrring med backend -->
                        </div>

                        <!-- Subscription Tab -->
                        <div class="tab-content" id="subscription">
                            <h2>Abonnement & Fakturering</h2>
                            <p class="tab-intro">Administrer ditt abonnement og se fakturahistorikk.</p>

                            <div class="current-plan">
                                <div class="plan-header">
                                    <div>
                                        <h3>N√•v√¶rende Plan: Gratis</h3>
                                        <p>Du bruker v√•r gratis plan med begrenset tilgang</p>
                                    </div>
                                    <a href="/pages/priser/priser.html" class="upgrade-btn">Oppgrader</a>
                                </div>
                                <div class="plan-features">
                                    <div class="feature-item">‚úÖ Grunnleggende funksjoner</div>
                                    <div class="feature-item">‚úÖ 100 MB lagring</div>
                                    <div class="feature-item">‚úÖ E-postsupport</div>
                                    <div class="feature-item">‚ùå AI Chatbot</div>
                                    <div class="feature-item">‚ùå Prioritert support</div>
                                </div>
                            </div>

                            <div class="billing-section">
                                <h3>Fakturahistorikk</h3>
                                <table class="invoice-table">
                                    <thead>
                                        <tr>
                                            <th>Dato</th>
                                            <th>Beskrivelse</th>
                                            <th>Bel√∏p</th>
                                            <th>Status</th>
                                            <th>Handling</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="5" class="no-invoices">Ingen fakturaer enn√•</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="payment-method">
                                <h3>Betalingsmetode</h3>
                                <p>Ingen betalingsmetode lagt til</p>
                                <button class="secondary-btn">Legg Til Betalingsmetode</button>
                            </div>

                            <!-- TODO: Integrer med Stripe for betalinger -->
                        </div>

                        <!-- Notifications Tab -->
                        <div class="tab-content" id="notifications">
                            <h2>Varslingsinnstillinger</h2>
                            <p class="tab-intro">Velg hvilke varsler du vil motta via e-post og p√• nettsiden.</p>

                            <form class="notifications-form" onsubmit="saveNotifications(event)">
                                <div class="notification-category">
                                    <h3>Produktoppdateringer</h3>
                                    <div class="notification-item">
                                        <label class="checkbox-label">
                                            <input type="checkbox" checked>
                                            <span>Nye funksjoner og forbedringer</span>
                                        </label>
                                    </div>
                                    <div class="notification-item">
                                        <label class="checkbox-label">
                                            <input type="checkbox" checked>
                                            <span>Vedlikeholdsvarsler</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="notification-category">
                                    <h3>Kontoaktivitet</h3>
                                    <div class="notification-item">
                                        <label class="checkbox-label">
                                            <input type="checkbox" checked>
                                            <span>Ny innlogging fra ukjent enhet</span>
                                        </label>
                                    </div>
                                    <div class="notification-item">
                                        <label class="checkbox-label">
                                            <input type="checkbox" checked>
                                            <span>Passordendringer</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="notification-category">
                                    <h3>Markedsf√∏ring</h3>
                                    <div class="notification-item">
                                        <label class="checkbox-label">
                                            <input type="checkbox">
                                            <span>Nyhetsbrev og tips</span>
                                        </label>
                                    </div>
                                    <div class="notification-item">
                                        <label class="checkbox-label">
                                            <input type="checkbox">
                                            <span>Spesialtilbud og kampanjer</span>
                                        </label>
                                    </div>
                                </div>

                                <button type="submit" class="save-btn">Lagre Innstillinger</button>
                            </form>
                        </div>

                        <!-- Privacy Tab -->
                        <div class="tab-content" id="privacy">
                            <h2>Personvern & Data</h2>
                            <p class="tab-intro">Administrer dine personopplysninger og personverninnstillinger.</p>

                            <div class="privacy-section">
                                <h3>Dataeksport</h3>
                                <p>Last ned en kopi av alle dine personopplysninger.</p>
                                <button class="secondary-btn" onclick="exportData()">Eksporter Mine Data</button>
                            </div>

                            <div class="privacy-section">
                                <h3>Datasletting</h3>
                                <p>Be om at alle dine personopplysninger blir slettet. Dette kan ikke angres.</p>
                                <button class="secondary-btn" onclick="requestDeletion()">Be Om Datasletting</button>
                            </div>

                            <div class="privacy-section">
                                <h3>Personvernerkl√¶ring</h3>
                                <p>Les v√•r fullstendige personvernerkl√¶ring for √• forst√• hvordan vi behandler dine data.</p>
                                <a href="/pages/personvern/personvern.html" class="secondary-btn">Les Personvernerkl√¶ring</a>
                            </div>

                            <div class="danger-zone">
                                <h3>‚ö†Ô∏è Farlig Sone</h3>
                                <p>Handlinger her kan ikke angres. V√¶r sikker p√• hva du gj√∏r.</p>
                                <button class="danger-btn" onclick="deleteAccount()">Slett Konto Permanent</button>
                            </div>

                            <!-- TODO: Implementer GDPR-funksjonalitet i backend -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="/assets/logo.svg" alt="Senkmer" width="24" height="24">
                        <span>Senkmer</span>
                    </div>
                    <p>Din digitale partner for moderne nettl√∏sninger</p>
                </div>
                <div class="footer-section">
                    <h4>Lenker</h4>
                    <a href="/pages/informasjon/om-oss.html">Om Oss</a>
                    <a href="/pages/priser/priser.html">Priser</a>
                    <a href="/pages/kundeservice/kontakt.html">Kontakt</a>
                </div>
                <div class="footer-section">
                    <h4>Ressurser</h4>
                    <a href="/pages/faq/faq.html">FAQ</a>
                    <a href="/pages/personvern/personvern.html">Personvern</a>
                    <a href="/pages/sikkerhet/sikkerhet.html">Sikkerhet</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Senkmer. Alle rettigheter reservert.</p>
            </div>
        </div>
    </footer>

    <script src="/js/main.js"></script>
    <script src="/js/animations.js"></script>
    <script>
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.closest('.nav-item').classList.add('active');
        }

        function savePersonalInfo(e) {
            e.preventDefault();
            alert('Funksjonalitet kommer snart! Dette vil lagre din personlige informasjon.');
            // TODO: Send data til backend API
        }

        function changePassword(e) {
            e.preventDefault();
            const newPass = document.getElementById('newPassword').value;
            const confirmPass = document.getElementById('confirmPassword').value;
            
            if (newPass !== confirmPass) {
                alert('Passordene matcher ikke!');
                return;
            }
            
            alert('Funksjonalitet kommer snart! Dette vil endre passordet ditt.');
            // TODO: Send til backend API
        }

        function saveNotifications(e) {
            e.preventDefault();
            alert('Varslingsinnstillinger lagret!');
            // TODO: Send til backend API
        }

        function exportData() {
            alert('Funksjonalitet kommer snart! Dette vil eksportere alle dine data.');
            // TODO: Implementer GDPR dataeksport
        }

        function requestDeletion() {
            if (confirm('Er du sikker p√• at du vil slette alle dine data? Dette kan ikke angres.')) {
                alert('Foresp√∏rsel om datasletting registrert. Du vil f√• en bekreftelse p√• e-post.');
                // TODO: Send foresp√∏rsel til backend
            }
        }

        function deleteAccount() {
            const confirmed = confirm('‚ö†Ô∏è ADVARSEL: Dette vil permanent slette kontoen din og alle tilknyttede data. Er du helt sikker?');
            if (confirmed) {
                const doubleCheck = prompt('Skriv "SLETT KONTOEN MIN" for √• bekrefte:');
                if (doubleCheck === 'SLETT KONTOEN MIN') {
                    alert('Konto sletting prosessert. Du vil bli logget ut.');
                    // TODO: Send til backend og logg ut brukeren
                }
            }
        }

        function logout() {
            if (confirm('Er du sikker p√• at du vil logge ut?')) {
                alert('Logger ut...');
                // TODO: Implementer ekte logout med backend
                window.location.href = '/pages/hovedside/hjem.html';
            }
        }

        function openAvatarUpload() {
            alert('Funksjonalitet kommer snart! Dette vil la deg laste opp et nytt profilbilde.');
            // TODO: Implementer bilde-upload
        }
    </script>
</body>
</html>
